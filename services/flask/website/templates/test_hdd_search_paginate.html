{% extends "base.html" %}
{% import "bootstrap/wtf.html" as wtf %}
{% block title %}HDD Search{% endblock %} 
{% block content %}
    <h1 align="center">Killdisk Search</h1>
    <div  style="height:800px; overflow:auto">
        <!--{% if results %}-->
            <!--{{ results|safe }}-->
            <!--
            <p><input type="submit" name="search_form_button" value="Download for Marketing(Incomplete)"></p>
            -->
            <table class="table table-dark">
                <tr style="border-style: ridge; border-color: lime">
                    <td>Process</td>
                    <td>Finished</td>
                    <td>Batch Started</td>
                    <td>Batch</td>
                    <td>Success</td>
                    <td>Status</td>
                    <td>Method</td>
                    <td>Progress</td>
                    <td>Disk Serial</td>
                    <td>Disk Info</td>
                    <td>DiskSizeStr</td>
                    <td>Provider</td>
                    <td>ProviderVer</td>
                    <td>Host</td>
                    <td>Err Msg</td>
                </tr> 
            {% for row in pagination.items %}
                <tr>
                    <td>{{ row.Process }}</td>
                    <td>{{ row.Finished }}</td>
                    <td>{{ row.BatchStarted }}</td>
                    <td>{{ row.Batch }}</td>
                    <td>{{ row.Success }}</td>
                    <td>{{ row.Status }}</td>
                    <td>{{ row.Method }}</td>
                    <td>{{ row.Progress }}</td>
                    <td>{{ row.DiskSerial }}</td>
                    <td>{{ row.DiskInfo }}</td>
                    <td>{{ row.DiskSizeStr }}</td>
                    <td>{{ row.Provider }}</td>
                    <td>{{ row.ProviderVer }}</td>
                    <td>{{ row.Host }}</td>
                    <td>{{ row.ErrMsg }}</td>
                {% endfor %}
            </table>
            <div style="background-color:whitesmoke">
                <a href="{{ url_for('testviews.paginate', page=pagination.prev_num) }}"
                class="btn btn-outline-dark
                {% if pagination.page == 1 %}disabled{% endif %}">
                &laquo;
                </a>

                <!-- Loop through the number of pages to display a link for each -->
                {% for page_num in pagination.iter_pages(left_edge=1, right_edge=1,
                        left_current=1, right_current=2) %}

                {% if page_num %}
                <!-- Check for the active page and set the link to "Active" -->
                    {% if pagination.page == page_num %}
                        <a href="{{ url_for('testviews.paginate', page=page_num) }}"
                           class="btn btn-outline-dark">
                            {{ page_num }}
                        </a>
                        {% else %}
                            <a href="{{ url_for('testviews.paginate', page=page_num) }}"
                               class="btn btn-outline-dark">
                                {{ page_num }}
                            </a>
                        {% endif %}
                {% endif %}
                {% endfor %}

                    <a href="{{ url_for('testviews.paginate', page=pagination.next_num) }}"
                       class="btn btn-outline-dark
                        {% if pagination.page == pagination.pages %}disabled{% endif %}">
                        &raquo;
                    </a>
            </div>
            <p class="text-right mt-3">
                Showing page {{ pagination.page }} of {{ pagination.pages }}
            </p>


        <!--{% endif %}-->
    </div>
{% endblock %}