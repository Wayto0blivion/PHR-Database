{% extends "base.html" %}
{% import "bootstrap5/form.html" as wtf %}
{% import "_macros.html" as macros %}

{% block title %}Search Model Weights{% endblock %}

{% block content %}
    <form method="POST">
        {{ form.hidden_tag() }}
        <table>
            <tr>
                <td>{{ form.model.label }}</td>
                <td>{{ form.model }}</td>
            </tr>
            <tr>
                <td>{{ form.submit }}</td>
            </tr>
        </table>

        {% if matching_models %}
            <table>
                <thead>
                    <tr>
                        <th>Model</th>
                        <th>Weight</th>
                        <th>Use this model?</th>
                    </tr>
                </thead>
                <tbody>
                    {% for matching_model in matching_models %}
                        <tr>
                            <td>{{ matching_model.model }}</td>
                            <td>{{ matching_model.weight }}</td>
                            <td><button type="submit" name="choose_model" value="{{ matching_model.autoID }}">Choose Model</button></td>
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
        {% else %}
            <p>No results found! Add a new weight <a href="{{ url_for("mobileviews.create_weight") }}">here</a></p>
        {% endif %}
    </form>
{% endblock %}